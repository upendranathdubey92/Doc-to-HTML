<!DOCTYPE html>
<html>
<head>
    <title>Test BENEFITS_TWO Detection</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        textarea { width: 100%; height: 400px; font-family: monospace; }
        .results { margin-top: 20px; padding: 10px; border: 1px solid #ccc; }
        .success { background: #e8f5e8; color: #2e7d32; padding: 10px; margin: 10px 0; }
        .error { background: #ffebee; color: #c62828; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Test BENEFITS_TWO Detection</h1>
    
    <textarea id="testContent">[BENEFITS_TWO]
Why Space-O Technologies is Your Strategic Partner for Web Development Consulting Services
From crashing servers to abandoned carts, we help CTOs navigate the technical challenges that stall growth. Our web consulting services bring clarity to complex architecture decisions, reduce technical debt, and build a solid foundation for what's next.
Strategic Technology Roadmapping
Our consulting services include long-term technology planning aligned with business growth objectives. We create detailed roadmaps for web platform evolution, feature prioritization, and resource allocation optimization.
Data-Driven Architecture Decisions
No guesswork here at Space-O Technologies. We analyze your traffic patterns, growth projections, and integration needs to recommend technologies that align with your roadmap, not just the trending frameworks everyone's talking about.
[BENEFITS_TWO END]</textarea>
    
    <br><br>
    <button onclick="testDetection()">Test Detection</button>
    
    <div id="results" class="results"></div>

    <script>
        const supportedSections = ['HERO', 'FAQ', 'CTA_SIMPLE', 'CTA_ENHANCED', 'PROCESS', 'TECHNOLOGY', 'INDUSTRIES', 'SERVICES_GRID', 'SERVICES_ACCORDION', 'PORTFOLIO', 'TESTIMONIAL', 'BENEFITS', 'BENEFITS_TWO', 'CONTENT_FORM'];
        
        function detectSections(content) {
            const sectionPattern = /\[([A-Z_\s]+)\]/g;
            const matches = [...content.matchAll(sectionPattern)];
            const detected = matches.map(match => match[1].trim());
            
            // Filter out END markers and only keep supported sections
            return [...new Set(detected)]
                .filter(section => !section.endsWith(' END'))
                .filter(section => 
                    supportedSections.some(supported => 
                        section.includes(supported) || supported.includes(section)
                    )
                );
        }
        
        function testDetection() {
            const content = document.getElementById('testContent').value;
            const resultsDiv = document.getElementById('results');
            
            const detectedSections = detectSections(content);
            
            let html = `
                <h3>Detection Results:</h3>
                <p><strong>Content length:</strong> ${content.length} characters</p>
                <p><strong>Detected sections:</strong> ${JSON.stringify(detectedSections)}</p>
                <p><strong>Section count:</strong> ${detectedSections.length}</p>
            `;
            
            if (detectedSections.length > 0 && detectedSections.includes('BENEFITS_TWO')) {
                html += '<div class="success">‚úÖ SUCCESS: BENEFITS_TWO section detected!</div>';
                html += '<p>üéâ The web IDE should now work correctly with this content format.</p>';
                html += '<p><strong>Next step:</strong> Use [BENEFITS_TWO] instead of [BENEFITS2] in your content.</p>';
            } else {
                html += '<div class="error">‚ùå ERROR: BENEFITS_TWO section not detected</div>';
                html += '<p>Still having issues with detection.</p>';
            }
            
            // Show debug info
            const sectionPattern = /\[([A-Z_\s]+)\]/g;
            const matches = [...content.matchAll(sectionPattern)];
            const allMatches = matches.map(match => match[1].trim());
            
            html += `
                <h4>Debug Info:</h4>
                <p><strong>All pattern matches:</strong> ${JSON.stringify(allMatches)}</p>
                <p><strong>After END filter:</strong> ${JSON.stringify(allMatches.filter(section => !section.endsWith(' END')))}</p>
                <p><strong>BENEFITS_TWO in supported:</strong> ${supportedSections.includes('BENEFITS_TWO')}</p>
            `;
            
            resultsDiv.innerHTML = html;
        }
    </script>
</body>
</html>